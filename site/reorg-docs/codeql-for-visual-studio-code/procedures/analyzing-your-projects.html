
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Analyzing your projects &#8212; CodeQL for Visual Studio Code</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />

<title>CodeQL docs</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="../_static/custom.css" type="text/css" />
<link rel="stylesheet" href="../_static/primer.css" type="text/css" />


  </head><body>
<header class="Header">
    <div class="Header-item--full">
        <a href="../index.html" class="Header-link f2 d-flex flex-items-center">
            <!-- <%= octicon "mark-github", class: "mr-2", height: 32 %> -->
            <svg height="32" class="octicon octicon-mark-github mr-2" viewBox="0 0 16 16" version="1.1" width="32"
                aria-hidden="true">
                <path fill-rule="evenodd"
                    d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z">
                </path>
            </svg>
            <span class="hide-sm">CodeQL for Visual Studio Code</span>
        </a>
    </div>
    <div class="Header-item hide-sm hide-md">
        <form class="search" action="../search.html" method="get">
            <input class="form-control input-dark" type="text" name="q" placeholder="Search" />
            <input class="btn" type="submit" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
        <script type="text/javascript">$('#searchbox').show(0);</script>

        <div class="clearer"></div>
    </div>
    <div class="Header-item">

        <details class="dropdown details-reset details-overlay d-inline-block">
            <summary class="btn bg-gray-dark text-white border" aria-haspopup="true">
                CodeQL resources
                <div class="dropdown-caret"></div>
            </summary>

            <ul class="dropdown-menu dropdown-menu-se dropdown-menu-dark">
                <div class="dropdown-header">
                    Help docs
                </div>
                <li><a class="dropdown-item" href="https://help.semmle.com/QL/learn-ql/">Learn CodeQL</a></li>
                <li><a class="dropdown-item" href="https://help.semmle.com/codeql/codeql-tools.html">CodeQL tools</a>
                </li>
                <li class="dropdown-divider" role="separator"></li>
                <div class="dropdown-header">
                    Reference docs
                </div>
                <li><a class="dropdown-item" href="https://help.semmle.com/QL/ql-handbook/">QL language reference</a>
                <li><a class="dropdown-item" href="https://help.semmle.com/QL/ql-libraries.html">CodeQL libraries</a>
                <li><a class="dropdown-item" href="https://help.semmle.com/QL/ql-built-in-queries.html">CodeQL
                        queries</a>
                <li class="dropdown-divider" role="separator"></li>
                <div class="dropdown-header">
                    Source files
                </div>
                <li><a class="dropdown-item" href="https://github.com/github/codeql">CodeQL repository</a>
            </ul>
        </details>

    </div>

</header>
<main class="bg-gray-light clearfix">
<nav class="SideNav position-sticky top-0 col-lg-3 col-md-3 float-left p-4 hide-sm hide-md overflow-y-auto">

    

</nav>


<div class="body col-sm-12 col-md-9 col-lg-9 float-left border-left">

    <div class="hide-lg hide-xl px-4 pt-4">
        
<div class="related" role="navigation" aria-label="related navigation">
    <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">CodeQL for Visual Studio Code</a> &#187;</li> 
    </ul>
</div>
    </div>

    <article class="p-4 col-lg-10 col-md-10 col-sm-12">
        
  <div class="section" id="analyzing-your-projects">
<h1>Analyzing your projects<a class="headerlink" href="#analyzing-your-projects" title="Permalink to this headline">¶</a></h1>
<p>You can run queries on CodeQL databases and view the results in Visual Studio Code.</p>
<div class="section" id="choosing-a-database">
<h2>Choosing a database<a class="headerlink" href="#choosing-a-database" title="Permalink to this headline">¶</a></h2>
<p>To analyze a project, you need to add a <a class="reference external" href="http://docteam.internal.semmle.com/james/codeql-site-layout/codeql-overview/codeql-glossary.html#codeql-database" title="(in CodeQL overview v1.25)"><span class="xref std std-ref">CodeQL database</span></a> for that project.</p>
<ol class="arabic">
<li><p class="first">Open the CodeQL Databases view in the sidebar.</p>
</li>
<li><p class="first">Hover over the <strong>Databases</strong> title bar and click the appropriate icon to add your database. You can add a database from a local ZIP archive or folder, from a public URL, or from a project URL on LGTM.com.</p>
<a class="reference internal image-reference" href="procedures\../../images/choose-database.png"><img alt="Choose a database to analyze" src="procedures\../../images/choose-database.png" style="width: 350px;" /></a>
<p>For more information about obtaining a local database, see below.</p>
</li>
<li><p class="first">Once you’ve chosen a database, it is displayed in the Databases view. To see the menu options for interacting with a database, right-click an entry in the list. You can select multiple databases using <strong>Ctrl/Cmd+click</strong>.</p>
</li>
</ol>
<div class="section" id="obtaining-a-local-database">
<h3>Obtaining a local database<a class="headerlink" href="#obtaining-a-local-database" title="Permalink to this headline">¶</a></h3>
<p>If you have a CodeQL database saved locally, as an unarchived folder or as a ZIP file, you can add it to Visual Studio Code. There are several ways to obtain a local CodeQL database.</p>
<ul>
<li><p class="first">To create a database with the CodeQL CLI, see “<span class="xref std std-doc">Creating CodeQL databases</span>.”</p>
</li>
<li></li>
<li><p class="first">To analyze a test database, add a <code class="docutils literal notranslate"><span class="pre">.testproj</span></code> folder to the Databases view.
Test databases (that is, folders with a <code class="docutils literal notranslate"><span class="pre">.testproj</span></code> extension) are generated when you run regression tests on custom queries using the <a class="reference external" href="https://help.semmle.com/codeql/codeql-cli.html">CodeQL CLI</a>.
If a query fails a regression test, you may want to analyze the test database in Visual Studio Code to debug the failure.</p>
<p>For more information about running query tests, see “<a class="reference external" href="https://help.semmle.com/codeql/codeql-cli/procedures/testing-custom-queries.html">Testing custom queries</a>” in the CodeQL CLI help.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="running-a-query">
<h2>Running a query<a class="headerlink" href="#running-a-query" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://github.com/github/codeql">CodeQL repository</a> on GitHub contains lots of example queries.
If you have that folder (or a different QL pack) available in your workspace, you can access existing queries under <code class="docutils literal notranslate"><span class="pre">&lt;language&gt;/ql/src/&lt;category&gt;</span></code>, for example <code class="docutils literal notranslate"><span class="pre">java/ql/src/Likely</span> <span class="pre">Bugs</span></code>.</p>
<ol class="arabic simple">
<li>Open a query (<code class="docutils literal notranslate"><span class="pre">.ql</span></code>) file. It is displayed in the editor, with IntelliSense features such as syntax highlighting and autocomplete suggestions.</li>
<li>Right-click in the query window and select <strong>CodeQL: Run Query</strong>. (Alternatively, run the command from the Command Palette.)</li>
</ol>
<p>The CodeQL extension runs the query on the current database and reports progress in the bottom right corner of the application.
When the results are ready, they’re displayed in the Results view.</p>
<p>If there are any problems running a query, a notification is displayed in the bottom right corner of the application.
In addition to the error message, the notification includes details of how to fix the problem.
For more information, see “<a class="reference internal" href="troubleshooting-codeql-for-visual-studio-code.html"><span class="doc">Troubleshooting CodeQL for Visual Studio Code</span></a>.”</p>
</div>
<div class="section" id="running-multiple-queries">
<h2>Running multiple queries<a class="headerlink" href="#running-multiple-queries" title="Permalink to this headline">¶</a></h2>
<p>You can run multiple queries with a single command.</p>
<ol class="arabic">
<li><p class="first">Go to the File Explorer.</p>
</li>
<li><p class="first">Select multiple files or folders that contain queries.</p>
</li>
<li><p class="first">Right-click and select <strong>CodeQL: Run Queries in Selected Files</strong>.</p>
<a class="reference internal image-reference" href="procedures\../../images/run-multiple-queries.png"><img alt="Run multiple queries from the File Explorer" src="procedures\../../images/run-multiple-queries.png" style="width: 350px;" /></a>
</li>
</ol>
</div>
<div class="section" id="running-a-quick-query">
<h2>Running a quick query<a class="headerlink" href="#running-a-quick-query" title="Permalink to this headline">¶</a></h2>
<p>When working on a new query, you can open a “quick query” tab to easily execute your code and view the results, without having to save a <code class="docutils literal notranslate"><span class="pre">.ql</span></code> file in your workspace.
Open a quick query editing tab by selecting <strong>CodeQL: Quick Query</strong> from the Command Palette.
To run the query, use <strong>CodeQL: Run Query</strong>.</p>
<p>You can see all quick queries that you’ve run in the current session in the Query History view. Click an entry to see the exact text of the quick query that produced the results.</p>
<p>Once you’re happy with your quick query, you should save it in a QL pack so you can access it later. For more information, see “<span class="xref std std-doc">About QL packs</span>.”</p>
</div>
<div class="section" id="running-a-specific-part-of-a-query-or-library">
<h2>Running a specific part of a query or library<a class="headerlink" href="#running-a-specific-part-of-a-query-or-library" title="Permalink to this headline">¶</a></h2>
<p>This is helpful if you’re debugging a query or library and you want to locate the part that is wrong.
Instead of using <strong>CodeQL: Run Query</strong> to run the whole query (the <a class="reference external" href="https://help.semmle.com/QL/ql-handbook/queries.html#select-clauses">select clause</a> and any <a class="reference external" href="https://help.semmle.com/QL/ql-handbook/queries.html#query-predicates">query predicates</a>), you can use <strong>CodeQL: Quick Evaluation</strong> to run a specific part of a <code class="docutils literal notranslate"><span class="pre">.ql</span></code> or <code class="docutils literal notranslate"><span class="pre">.qll</span></code> file.</p>
<p><strong>CodeQL: Quick Evaluation</strong> evaluates a code snippet (instead of the whole query) and displays results of that selection in the Results view.
Possible targets for quick evaluation include:</p>
<ul class="simple">
<li>Selecting the name of a CodeQL entity (such as a <a class="reference external" href="https://help.semmle.com/QL/ql-handbook/types.html#classes">class</a> or <a class="reference external" href="https://help.semmle.com/QL/ql-handbook/predicates.html">predicate</a>) to evaluate that entity.</li>
<li>Selecting a <a class="reference external" href="https://help.semmle.com/QL/ql-handbook/formulas.html">formula</a> or <a class="reference external" href="https://help.semmle.com/QL/ql-handbook/expressions.html">expression</a> with free variables to evaluate that formula or expression.</li>
</ul>
<p>For example, in the following snippet, you could select the predicate name <code class="docutils literal notranslate"><span class="pre">foo</span></code> or the formula <code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">&quot;bar&quot;</span></code> for quick evaluation.</p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">predicate</span> <span class="n">foo</span><span class="p">(</span><span class="kt">string</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span> <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;bar&quot;</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="viewing-previous-queries">
<h2>Viewing previous queries<a class="headerlink" href="#viewing-previous-queries" title="Permalink to this headline">¶</a></h2>
<p>To see the queries that you have run in the current session, open the Query History view.</p>
<blockquote>
<div><a class="reference internal image-reference" href="procedures\../../images/query-history.png"><img alt="See a list of previous queries" src="procedures\../../images/query-history.png" style="width: 350px;" /></a>
</div></blockquote>
<p>The Query History contains information including the date and time when the query was run, the name of the query, the database on which it was run, and how long it took to run the query.
To customize the information that is displayed, right-click an entry and select <strong>Set Label</strong>.</p>
<p>Click an entry to display the corresponding results in the Query Results view, and double-click
to display the query itself in the editor (or right-click and select <strong>Open Query</strong>).
To display the exact text that produced the results for a particular entry, right-click it and select <strong>Show Query Text</strong>. This can differ from <strong>Open Query</strong> as the query file may have been modified since you last ran it.</p>
<p>To remove queries from the Query History view, select all the queries you want to remove, then right-click and select <strong>Remove History Item</strong>.</p>
</div>
<div class="section" id="viewing-query-results">
<h2>Viewing query results<a class="headerlink" href="#viewing-query-results" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Click a query in the Query History view to display its results in the Results view. Alternatively, right-click the result to select a different view:<ul>
<li>To view the results in <a class="reference external" href="https://help.semmle.com/codeql/codeql-cli/reference/sarif-output.html">SARIF format</a>, right-click and select <strong>View SARIF</strong>.</li>
<li>To view the results in <a class="reference external" href="https://help.semmle.com/codeql/advanced-glossary.html#dil">DIL format</a>, right-click and select <strong>View DIL</strong>.</li>
</ul>
</li>
<li>Use the dropdown menu in the Results view to choose which results to display, and in what form to display them, such as a formatted alert message or a table of raw results. The available output forms are specified by the format of the query and the metadata. For more information, see “<a class="reference external" href="https://help.semmle.com/QL/learn-ql/writing-queries/code-ql-queries.html">CodeQL queries</a>.”</li>
<li>To sort the results by the entries in a particular column, click the column header.</li>
</ol>
<p>If a result links to a source code element, you can click it to display it in the source.</p>
<p>To use standard code navigation features in the source code, you can right-click an element and use the commands <strong>Go to Definition</strong> or <strong>Go to References</strong>. This runs a CodeQL query over the active file, which may take a few seconds. This query needs to run once for every file, so any additional references from the same file will be fast.</p>
<blockquote>
<div><blockquote class="pull-quote">
<div><p>Note</p>
<p>If you’re using an older database, code navigation commands such as <strong>Go to Definition</strong> and <strong>Go to References</strong> may not work.
To use code navigation, try unzipping the database and running <code class="docutils literal notranslate"><span class="pre">codeql</span> <span class="pre">database</span> <span class="pre">cleanup</span> <span class="pre">&lt;database&gt;</span></code> on the unzipped database using the CodeQL CLI. Then, re-add the database to Visual Studio Code.
For more information, see the <a class="reference external" href="https://help.semmle.com/codeql/codeql-cli/commands/database-cleanup.html">database cleanup</a> reference documentation.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="comparing-query-results">
<h2>Comparing query results<a class="headerlink" href="#comparing-query-results" title="Permalink to this headline">¶</a></h2>
<p>When you’re writing or debugging a query, it’s useful to see how your changes affect the results.
You can compare two sets of results to see exactly what has changed.
To compare results, the two queries must be run on the same database.</p>
<ol class="arabic simple">
<li>Right-click a query in the Query History view and select <strong>Compare Results</strong>.</li>
<li>A Quick Pick menu shows all valid queries to compare with. Select a query.</li>
<li>The Compare view shows the differences in the results of the two queries.</li>
</ol>
</div>
<div class="section" id="further-reading">
<h2>Further reading<a class="headerlink" href="#further-reading" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>“<a class="reference external" href="https://help.semmle.com/QL/learn-ql/writing-queries/codeql-queries.html">CodeQL queries</a>”</li>
<li>“<a class="reference internal" href="exploring-data-flow-with-path-queries.html"><span class="doc">Exploring data flow with path queries</span></a>”</li>
</ul>
</div>
</div>


    </article>

    <!-- GitHub footer, with links to terms and privacy statement -->
    <div class="px-3 px-md-6 f6 py-4 d-sm-flex flex-justify-between flex-row-reverse flex-items-center border-top">
        <ul class="list-style-none d-flex flex-items-center mb-3 mb-sm-0 lh-condensed-ultra">
            <li class="mr-3">
                <a href="https://twitter.com/github" title="GitHub on Twitter" style="color: #959da5;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 273.5 222.3" class="d-block" height="18">
                        <path
                            d="M273.5 26.3a109.77 109.77 0 0 1-32.2 8.8 56.07 56.07 0 0 0 24.7-31 113.39 113.39 0 0 1-35.7 13.6 56.1 56.1 0 0 0-97 38.4 54 54 0 0 0 1.5 12.8A159.68 159.68 0 0 1 19.1 10.3a56.12 56.12 0 0 0 17.4 74.9 56.06 56.06 0 0 1-25.4-7v.7a56.11 56.11 0 0 0 45 55 55.65 55.65 0 0 1-14.8 2 62.39 62.39 0 0 1-10.6-1 56.24 56.24 0 0 0 52.4 39 112.87 112.87 0 0 1-69.7 24 119 119 0 0 1-13.4-.8 158.83 158.83 0 0 0 86 25.2c103.2 0 159.6-85.5 159.6-159.6 0-2.4-.1-4.9-.2-7.3a114.25 114.25 0 0 0 28.1-29.1"
                            fill="currentColor"></path>
                    </svg>
                </a>
            </li>
            <li class="mr-3">
                <a href="https://www.facebook.com/GitHub" title="GitHub on Facebook" style="color: #959da5;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.3 15.4" class="d-block" height="18">
                        <path
                            d="M14.5 0H.8a.88.88 0 0 0-.8.9v13.6a.88.88 0 0 0 .8.9h7.3v-6h-2V7.1h2V5.4a2.87 2.87 0 0 1 2.5-3.1h.5a10.87 10.87 0 0 1 1.8.1v2.1h-1.3c-1 0-1.1.5-1.1 1.1v1.5h2.3l-.3 2.3h-2v5.9h3.9a.88.88 0 0 0 .9-.8V.8a.86.86 0 0 0-.8-.8z"
                            fill="currentColor"></path>
                    </svg>
                </a>
            </li>
            <li class="mr-3">
                <a href="https://www.youtube.com/github" title="GitHub on YouTube" style="color: #959da5;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.17 13.6" class="d-block" height="16">
                        <path
                            d="M18.77 2.13A2.4 2.4 0 0 0 17.09.42C15.59 0 9.58 0 9.58 0a57.55 57.55 0 0 0-7.5.4A2.49 2.49 0 0 0 .39 2.13 26.27 26.27 0 0 0 0 6.8a26.15 26.15 0 0 0 .39 4.67 2.43 2.43 0 0 0 1.69 1.71c1.52.42 7.5.42 7.5.42a57.69 57.69 0 0 0 7.51-.4 2.4 2.4 0 0 0 1.68-1.71 25.63 25.63 0 0 0 .4-4.67 24 24 0 0 0-.4-4.69zM7.67 9.71V3.89l5 2.91z"
                            fill="currentColor"></path>
                    </svg>
                </a>
            </li>
            <li class="mr-3 flex-self-start">
                <a href="https://www.linkedin.com/company/github" title="GitHub on Linkedin" style="color: #959da5;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 18" class="d-block" height="18">
                        <path
                            d="M3.94 2A2 2 0 1 1 2 0a2 2 0 0 1 1.94 2zM4 5.48H0V18h4zm6.32 0H6.34V18h3.94v-6.57c0-3.66 4.77-4 4.77 0V18H19v-7.93c0-6.17-7.06-5.94-8.72-2.91z"
                            fill="currentColor"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="https://github.com/github" title="GitHub's organization" style="color: #959da5;">
                    <svg version="1.1" width="20" height="20" viewBox="0 0 16 16" class="octicon octicon-mark-github"
                        aria-hidden="true">
                        <path fill-rule="evenodd"
                            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                        </path>
                    </svg>
                </a>
            </li>
        </ul>
        <ul class="list-style-none d-flex text-gray">
            <li class="mr-3">&copy; 2020 GitHub, Inc.</li>
            <li class="mr-3"><a
                    href="https://docs.github.com/github/site-policy/github-terms-of-service"
                    class="link-gray">Terms </a></li>
            <li><a href="https://docs.github.com/github/site-policy/github-privacy-statement"
                    class="link-gray">Privacy </a></li>
        </ul>
    </div>
</div>
</main>

<script type="text/javascript">
    $(document).ready(function () {
        $(".toggle > *").hide();
        $(".toggle .name").show();
        $(".toggle .name").click(function () {
            $(this).parent().children().not(".name").toggle(400);
            $(this).parent().children(".name").toggleClass("open");
        })
    });
</script>

  </body>
</html>