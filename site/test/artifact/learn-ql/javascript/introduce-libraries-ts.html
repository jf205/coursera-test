
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>CodeQL library for TypeScript &#8212; Learn CodeQL</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.25',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Analyzing data flow in JavaScript and TypeScript" href="dataflow.html" />
    <link rel="prev" title="CodeQL library for JavaScript" href="introduce-libraries-js.html" />
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i) {w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var  f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true; j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);}) (window,document,'script','dataLayer','GTM-5Q9DBRM');</script>
  <!-- End Google Tag Manager -->
  
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  </head>
  <body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5Q9DBRM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<div id="siteBanner">
    <div class="logocontainer">
        <a href="https://securitylab.github.com" id="Header-logo" class="">
                <svg width="100%" height="100%" viewBox="0 0 696 160" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="696" height="160" fill="white"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M80.0397 32.8C53.4747 32.8 32 54.4342 32 81.1965C32 102.59 45.7597 120.699 64.8483 127.109C67.2344 127.59 68.1093 126.067 68.1093 124.785C68.1093 123.664 68.0297 119.818 68.0297 115.811C54.6677 118.696 51.884 110.042 51.884 110.042C49.7365 104.433 46.5551 102.991 46.5551 102.991C42.1806 100.026 46.8732 100.026 46.8732 100.026C51.7249 100.347 54.27 104.994 54.27 104.994C58.565 112.366 65.4846 110.283 68.2684 109C68.666 105.876 69.9386 103.712 71.2907 102.51C60.6329 101.388 49.4184 97.2219 49.4184 78.6325C49.4184 73.3441 51.3272 69.0173 54.3496 65.6519C53.8724 64.45 52.2021 59.4822 54.8268 52.8317C54.8268 52.8317 58.8831 51.5496 68.0297 57.7995C71.8475 56.7579 75.9833 56.197 80.0397 56.197C84.096 56.197 88.2319 56.7579 92.0496 57.7995C101.196 51.5496 105.253 52.8317 105.253 52.8317C107.877 59.4822 106.207 64.45 105.73 65.6519C108.832 69.0173 110.661 73.3441 110.661 78.6325C110.661 97.2219 99.4464 101.308 88.7091 102.51C90.4589 104.033 91.97 106.917 91.97 111.484C91.97 117.975 91.8905 123.183 91.8905 124.785C91.8905 126.067 92.7654 127.59 95.1515 127.109C114.24 120.699 128 102.59 128 81.1965C128.079 54.4342 106.525 32.8 80.0397 32.8Z" fill="black"/>
                    <path d="M50.2139 102.27C50.1343 102.51 49.7367 102.59 49.4185 102.43C49.1004 102.27 48.8618 101.949 49.0208 101.709C49.1004 101.469 49.4981 101.388 49.8162 101.549C50.1343 101.709 50.2934 102.029 50.2139 102.27Z" fill="black"/>
                    <path d="M52.1224 104.433C51.8837 104.674 51.4065 104.513 51.1679 104.193C50.8498 103.872 50.7702 103.392 51.0089 103.151C51.2475 102.911 51.6451 103.071 51.9633 103.392C52.2814 103.792 52.361 104.273 52.1224 104.433Z" fill="black"/>
                    <path d="M54.0314 107.238C53.7132 107.478 53.236 107.238 52.9974 106.837C52.6793 106.436 52.6793 105.876 52.9974 105.715C53.3155 105.475 53.7928 105.715 54.0314 106.116C54.3495 106.517 54.3495 106.997 54.0314 107.238Z" fill="black"/>
                    <path d="M56.656 109.962C56.4174 110.283 55.8607 110.202 55.3834 109.802C54.9858 109.401 54.8267 108.84 55.1448 108.6C55.3834 108.279 55.9402 108.359 56.4174 108.76C56.8151 109.081 56.8946 109.642 56.656 109.962Z" fill="black"/>
                    <path d="M60.2354 111.484C60.1558 111.885 59.5991 112.045 59.0423 111.885C58.4856 111.725 58.1674 111.244 58.247 110.924C58.3265 110.523 58.8832 110.363 59.44 110.523C59.9967 110.683 60.3149 111.084 60.2354 111.484Z" fill="black"/>
                    <path d="M64.1324 111.805C64.1324 112.206 63.6552 112.526 63.0984 112.526C62.5417 112.526 62.0645 112.206 62.0645 111.805C62.0645 111.404 62.5417 111.084 63.0984 111.084C63.6552 111.084 64.1324 111.404 64.1324 111.805Z" fill="black"/>
                    <path d="M67.791 111.164C67.8705 111.565 67.4729 111.965 66.9161 112.045C66.3594 112.125 65.8822 111.885 65.8026 111.484C65.7231 111.084 66.1208 110.683 66.6775 110.603C67.2343 110.523 67.7115 110.763 67.791 111.164Z" fill="black"/>
                    <path d="M190.125 70.1023H198.591C198.335 60.7841 190.097 54.0227 178.278 54.0227C166.602 54.0227 157.653 60.6989 157.653 70.7273C157.653 78.8239 163.449 83.5682 172.795 86.0966L179.67 87.9716C185.892 89.6193 190.693 91.6648 190.693 96.8352C190.693 102.517 185.267 106.267 177.795 106.267C171.034 106.267 165.409 103.256 164.898 96.9205H156.091C156.659 107.46 164.812 113.966 177.852 113.966C191.517 113.966 199.386 106.778 199.386 96.9205C199.386 86.4375 190.04 82.375 182.653 80.5568L176.972 79.0796C172.426 77.9148 166.375 75.7841 166.403 70.2159C166.403 65.2727 170.92 61.608 178.079 61.608C184.756 61.608 189.5 64.733 190.125 70.1023Z" fill="black"/>
                    <path d="M227.201 113.881C236.718 113.881 243.451 109.193 245.383 102.091L237.343 100.642C235.809 104.761 232.116 106.864 227.287 106.864C220.014 106.864 215.127 102.148 214.9 93.7386H245.923V90.7273C245.923 74.9602 236.491 68.7955 226.605 68.7955C214.446 68.7955 206.434 78.0568 206.434 91.4659C206.434 105.017 214.332 113.881 227.201 113.881ZM214.929 87.375C215.27 81.1818 219.758 75.8125 226.662 75.8125C233.252 75.8125 237.571 80.6989 237.599 87.375H214.929Z" fill="black"/>
                    <path d="M272.928 113.881C283.241 113.881 289.917 107.688 290.854 99.1932H282.587C281.508 103.909 277.843 106.693 272.985 106.693C265.798 106.693 261.167 100.699 261.167 91.1818C261.167 81.8352 265.883 75.9546 272.985 75.9546C278.383 75.9546 281.678 79.3636 282.587 83.4546H290.854C289.945 74.6477 282.758 68.7955 272.843 68.7955C260.542 68.7955 252.587 78.0568 252.587 91.3807C252.587 104.534 260.258 113.881 272.928 113.881Z" fill="black"/>
                    <path d="M326.78 94.9034C326.809 102.318 321.297 105.841 316.525 105.841C311.269 105.841 307.633 102.034 307.633 96.0966V69.3636H299.138V97.1193C299.138 107.943 305.076 113.568 313.456 113.568C320.019 113.568 324.479 110.102 326.496 105.443H326.951V113H335.303V69.3636H326.78V94.9034Z" fill="black"/>
                    <path d="M345.916 113H354.411V86.3523C354.411 80.6421 358.814 76.5227 364.837 76.5227C366.598 76.5227 368.587 76.8352 369.269 77.0341V68.9091C368.416 68.7955 366.74 68.7102 365.661 68.7102C360.547 68.7102 356.172 71.608 354.581 76.2955H354.127V69.3636H345.916V113Z" fill="black"/>
                    <path d="M375.82 113H384.314V69.3636H375.82V113ZM380.109 62.6307C383.035 62.6307 385.479 60.358 385.479 57.5739C385.479 54.7898 383.035 52.4886 380.109 52.4886C377.155 52.4886 374.74 54.7898 374.74 57.5739C374.74 60.358 377.155 62.6307 380.109 62.6307Z" fill="black"/>
                    <path d="M415.311 69.3636H406.362V58.9091H397.868V69.3636H391.475V76.1818H397.868V101.949C397.839 109.875 403.89 113.71 410.595 113.568C413.294 113.54 415.112 113.028 416.106 112.659L414.572 105.642C414.004 105.756 412.953 106.011 411.589 106.011C408.833 106.011 406.362 105.102 406.362 100.188V76.1818H415.311V69.3636Z" fill="black"/>
                    <path d="M429.276 129.25C436.293 129.25 440.754 125.585 443.254 118.824L461.293 69.4489L452.117 69.3636L441.066 103.227H440.612L429.56 69.3636H420.47L436.435 113.568L435.384 116.466C433.225 122.119 430.185 122.631 425.526 121.352L423.481 128.313C424.504 128.795 426.72 129.25 429.276 129.25Z" fill="black"/>
                    <path d="M489.551 113H524.693V105.443H498.33V54.8182H489.551V113Z" fill="black"/>
                    <path d="M545.925 113.966C553.141 113.966 557.203 110.301 558.822 107.034H559.163V113H567.459V84.0227C567.459 71.3239 557.459 68.7955 550.527 68.7955C542.629 68.7955 535.356 71.9773 532.516 79.9318L540.498 81.75C541.748 78.6534 544.93 75.6705 550.641 75.6705C556.123 75.6705 558.936 78.5398 558.936 83.483V83.6818C558.936 86.7784 555.754 86.7216 547.913 87.6307C539.646 88.5966 531.18 90.7557 531.18 100.67C531.18 109.25 537.629 113.966 545.925 113.966ZM547.771 107.148C542.97 107.148 539.504 104.989 539.504 100.784C539.504 96.2386 543.538 94.6193 548.453 93.9659C551.209 93.5966 557.743 92.858 558.964 91.6364V97.2614C558.964 102.432 554.845 107.148 547.771 107.148Z" fill="black"/>
                    <path d="M578.654 113H586.95V106.21H587.66C589.194 108.994 592.319 113.852 600.274 113.852C610.842 113.852 618.512 105.386 618.512 91.2671C618.512 77.1193 610.728 68.7955 600.189 68.7955C592.092 68.7955 589.166 73.7386 587.66 76.4375H587.149V54.8182H578.654V113ZM586.978 91.1818C586.978 82.0625 590.956 76.0114 598.37 76.0114C606.069 76.0114 609.933 82.5171 609.933 91.1818C609.933 99.9318 605.956 106.608 598.37 106.608C591.069 106.608 586.978 100.358 586.978 91.1818Z" fill="black"/>
                </svg>
                  
        </a>
    </div>            
        <div class="linkcontainer" id="linkcontainermenu">
                <div class="linkbar">
                    <a href="https://help.semmle.com/QL/learn-ql/">Learn CodeQL</a>
                    <a href="https://help.semmle.com/codeql/codeql-tools.html">CodeQL tools</a>
                    <a href="https://github.com/github/codeql">CodeQL repository</a>
                    <a href="https://help.semmle.com/QL/ql-libraries.html">CodeQL libraries</a>
                    <a href="javascript:void(0);" class="icon" onclick="myFunction()">
                        <i class="fa fa-bars"></i>
                      </a>
                </div>
       </div>
</div>  
<div id="title-banner">
    <a href="../index.html">Learning CodeQL</a>
    <div id="searchbox-title-banner" role="search">
            <form class="search" action="../search.html" method="get">
                <div id="textfield"><input type="text" name="q" /></div>
                <div id="searchbutton"><input type="submit" value="Search" /></div>
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
        </div>
        <script type="text/javascript">$('#searchbox').show(0);</script> 
    <div class="clearer"></div>
</div>

<div class="wrapper">
   
    <div class="navBox" > 
            <div id="searchbox-navbar"  role="search">
                    <form class="search" action="../search.html" method="get">
                        <div id="textfield"><input type="text" name="q" /></div>
                        <div id="searchbutton"><input type="submit" value="Search" /></div>
                        <input type="hidden" name="check_keywords" value="yes" />
                        <input type="hidden" name="area" value="default" />
                    </form>
                </div>
                <script type="text/javascript">$('#searchbox').show(0);</script> 
                <div class="clearer"></div>
            <div id="toc">
                <h1>Contents</h1>  
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../beginner/ql-tutorials.html">QL tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing-queries/writing-queries.html">CodeQL queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpp/ql-for-cpp.html">CodeQL for C and C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csharp/ql-for-csharp.html">CodeQL for C#</a></li>
<li class="toctree-l1"><a class="reference internal" href="../go/ql-for-go.html">CodeQL for Go</a></li>
<li class="toctree-l1"><a class="reference internal" href="../java/ql-for-java.html">CodeQL for Java</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="ql-for-javascript.html">CodeQL for JavaScript</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="basic-query-javascript.html">Basic query for JavaScript code</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduce-libraries-js.html">CodeQL library for JavaScript</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">CodeQL library for TypeScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="dataflow.html">Analyzing data flow in JavaScript and TypeScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="flow-labels.html">Using flow labels for precise data flow analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="type-tracking.html">Using type tracking for API modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="ast-class-reference.html">Abstract syntax tree classes for working with JavaScript and TypeScript programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="dataflow-cheat-sheet.html">Data flow cheat sheet for JavaScript</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../python/ql-for-python.html">CodeQL for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ql-training.html">CodeQL training and variant analysis examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../terminology-note.html">Recent terminology changes</a></li>
</ul>

            </div>
    </div>
    <div class="mainBox">
        
  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="codeql-library-for-typescript">
<h1>CodeQL library for TypeScript<a class="headerlink" href="#codeql-library-for-typescript" title="Permalink to this headline">¶</a></h1>
<p>When you’re analyzing a TypeScript program, you can make use of the large collection of classes in the CodeQL library for TypeScript.</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Support for analyzing TypeScript code is bundled with the CodeQL libraries for JavaScript, so you can include the full TypeScript library by importing the <code class="docutils literal"><span class="pre">javascript.qll</span></code> module:</p>
<div class="highlight-ql"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="n">javascript</span>
</pre></div>
</div>
<p><a class="reference internal" href="introduce-libraries-js.html"><span class="doc">CodeQL libraries for JavaScript</span></a> covers most of this library, and is also relevant for TypeScript analysis. This document supplements the JavaScript documentation with the TypeScript-specific classes and predicates.</p>
</div>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<p>Most syntax in TypeScript is represented in the same way as its JavaScript counterpart. For example, <code class="docutils literal"><span class="pre">a+b</span></code> is represented by an <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/Expr.qll/type.Expr$AddExpr.html">AddExpr</a>; the same as it would be in JavaScript. On the other hand, <code class="docutils literal"><span class="pre">x</span> <span class="pre">as</span> <span class="pre">number</span></code> is represented by <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$TypeAssertion.html">TypeAssertion</a>, a class that is specific to TypeScript.</p>
<div class="section" id="type-annotations">
<h3>Type annotations<a class="headerlink" href="#type-annotations" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$TypeExpr.html">TypeExpr</a> class represents anything that is part of a type annotation.</p>
<p>Only type annotations that are explicit in the source code occur as a <code class="docutils literal"><span class="pre">TypeExpr</span></code>. Types inferred by the TypeScript compiler are <code class="docutils literal"><span class="pre">Type</span></code> entities; for details about this, see the section on <a class="reference external" href="#static-type-information">static type information</a>.</p>
<p>There are several ways to access type annotations, for example:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">VariableDeclaration.getTypeAnnotation()</span></code></li>
<li><code class="docutils literal"><span class="pre">Function.getReturnTypeAnnotation()</span></code></li>
<li><code class="docutils literal"><span class="pre">BindingPattern.getTypeAnnotation()</span></code></li>
<li><code class="docutils literal"><span class="pre">Parameter.getTypeAnnotation()</span></code> (special case of <code class="docutils literal"><span class="pre">BindingPattern.getTypeAnnotation()</span></code>)</li>
<li><code class="docutils literal"><span class="pre">VarDecl.getTypeAnnotation()</span></code> (special case of <code class="docutils literal"><span class="pre">BindingPattern.getTypeAnnotation()</span></code>)</li>
<li><code class="docutils literal"><span class="pre">FieldDeclaration.getTypeAnnotation()</span></code></li>
</ul>
<p>The <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$TypeExpr.html">TypeExpr</a> class provides some convenient member predicates such as <code class="docutils literal"><span class="pre">isString()</span></code> and <code class="docutils literal"><span class="pre">isVoid()</span></code> to recognize commonly used types.</p>
<p>The subclasses that represent type annotations are:</p>
<ul class="simple">
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$TypeAccess.html">TypeAccess</a>: a name referring to a type, such as <code class="docutils literal"><span class="pre">Date</span></code> or <code class="docutils literal"><span class="pre">http.ServerRequest</span></code>.<ul>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$LocalTypeAccess.html">LocalTypeAccess</a>: an unqualified name, such as <code class="docutils literal"><span class="pre">Date</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$QualifiedTypeAccess.html">QualifiedTypeAccess</a>: a name prefixed by a namespace, such as <code class="docutils literal"><span class="pre">http.ServerRequest</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$ImportTypeAccess.html">ImportTypeAccess</a>: an <code class="docutils literal"><span class="pre">import</span></code> used as a type, such as <code class="docutils literal"><span class="pre">import(&quot;./foo&quot;)</span></code>.</li>
</ul>
</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$PredefinedTypeExpr.html">PredefinedTypeExpr</a>: a predefined type, such as <code class="docutils literal"><span class="pre">number</span></code>, <code class="docutils literal"><span class="pre">string</span></code>, <code class="docutils literal"><span class="pre">void</span></code>, or <code class="docutils literal"><span class="pre">any</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$ThisTypeExpr.html">ThisTypeExpr</a>: the <code class="docutils literal"><span class="pre">this</span></code> type.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$InterfaceTypeExpr.html">InterfaceTypeExpr</a>, also known as a literal type, such as <code class="docutils literal"><span class="pre">{x:</span> <span class="pre">number}</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$FunctionTypeExpr.html">FunctionTypeExpr</a>: a type such as <code class="docutils literal"><span class="pre">(x:</span> <span class="pre">number)</span> <span class="pre">=&gt;</span> <span class="pre">string</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$GenericTypeExpr.html">GenericTypeExpr</a>: a named type with type arguments, such as <code class="docutils literal"><span class="pre">Array&lt;string&gt;</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$LiteralTypeExpr.html">LiteralTypeExpr</a>: a string, number, or boolean constant used as a type, such as <code class="docutils literal"><span class="pre">'foo'</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$ArrayTypeExpr.html">ArrayTypeExpr</a>: a type such as <code class="docutils literal"><span class="pre">string[]</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$UnionTypeExpr.html">UnionTypeExpr</a>: a type such as <code class="docutils literal"><span class="pre">string</span> <span class="pre">|</span> <span class="pre">number</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$IntersectionTypeExpr.html">IntersectionTypeExpr</a>: a type such as <code class="docutils literal"><span class="pre">S</span> <span class="pre">&amp;</span> <span class="pre">T</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$IndexedAccessTypeExpr.html">IndexedAccessTypeExpr</a>: a type such as <code class="docutils literal"><span class="pre">T[K]</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$ParenthesizedTypeExpr.html">ParenthesizedTypeExpr</a>: a type such as <code class="docutils literal"><span class="pre">(string)</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$TupleTypeExpr.html">TupleTypeExpr</a>: a type such as <code class="docutils literal"><span class="pre">[string,</span> <span class="pre">number]</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$KeyofTypeExpr.html">KeyofTypeExpr</a>: a type such as <code class="docutils literal"><span class="pre">keyof</span> <span class="pre">T</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$TypeofTypeExpr.html">TypeofTypeExpr</a>: a type such as <code class="docutils literal"><span class="pre">typeof</span> <span class="pre">x</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$IsTypeExpr.html">IsTypeExpr</a>: a type such as <code class="docutils literal"><span class="pre">x</span> <span class="pre">is</span> <span class="pre">string</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$MappedTypeExpr.html">MappedTypeExpr</a>: a type such as <code class="docutils literal"><span class="pre">{</span> <span class="pre">[K</span> <span class="pre">in</span> <span class="pre">C]:</span> <span class="pre">T</span> <span class="pre">}</span></code>.</li>
</ul>
<p>There are some subclasses that may be part of a type annotation, but are not themselves types:</p>
<ul class="simple">
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$TypeParameter.html">TypeParameter</a>: a type parameter declared on a type or function, such as <code class="docutils literal"><span class="pre">T</span></code> in <code class="docutils literal"><span class="pre">class</span> <span class="pre">C&lt;T&gt;</span> <span class="pre">{}</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$NamespaceAccess.html">NamespaceAccess</a>: a name referring to a namespace from inside a type, such as <code class="docutils literal"><span class="pre">http</span></code> in <code class="docutils literal"><span class="pre">http.ServerRequest</span></code>.<ul>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$LocalNamespaceAccess.html">LocalNamespaceAccess</a>: the initial identifier in a prefix, such as <code class="docutils literal"><span class="pre">http</span></code> in <code class="docutils literal"><span class="pre">http.ServerRequest</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$QualifiedNamespaceAccess.html">QualifiedNamespaceAccess</a>: a qualified name in a prefix, such as <code class="docutils literal"><span class="pre">net.client</span></code> in <code class="docutils literal"><span class="pre">net.client.Connection</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$ImportNamespaceAccess.html">ImportNamespaceAccess</a>: an <code class="docutils literal"><span class="pre">import</span></code> used as a namespace in a type, such as in <code class="docutils literal"><span class="pre">import(&quot;http&quot;).ServerRequest</span></code>.</li>
</ul>
</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$VarTypeAccess.html">VarTypeAccess</a>: a reference to a value from inside a type, such as <code class="docutils literal"><span class="pre">x</span></code> in <code class="docutils literal"><span class="pre">typeof</span> <span class="pre">x</span></code> or <code class="docutils literal"><span class="pre">x</span> <span class="pre">is</span> <span class="pre">string</span></code>.</li>
</ul>
</div>
<div class="section" id="function-signatures">
<h3>Function signatures<a class="headerlink" href="#function-signatures" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/Functions.qll/type.Functions$Function.html">Function</a> class is a broad class that includes both concrete functions and function signatures.</p>
<p>Function signatures can take several forms:</p>
<ul class="simple">
<li>Function types, such as <code class="docutils literal"><span class="pre">(x:</span> <span class="pre">number)</span> <span class="pre">=&gt;</span> <span class="pre">string</span></code>.</li>
<li>Abstract methods, such as <code class="docutils literal"><span class="pre">abstract</span> <span class="pre">foo():</span> <span class="pre">void</span></code>.</li>
<li>Overload signatures, such as <code class="docutils literal"><span class="pre">foo(x:</span> <span class="pre">number):</span> <span class="pre">number</span></code> followed by an implementation of <code class="docutils literal"><span class="pre">foo</span></code>.</li>
<li>Call signatures, such as in <code class="docutils literal"><span class="pre">{</span> <span class="pre">(x:</span> <span class="pre">string):</span> <span class="pre">number</span> <span class="pre">}</span></code>.</li>
<li>Index signatures, such as in <code class="docutils literal"><span class="pre">{</span> <span class="pre">[x:</span> <span class="pre">string]:</span> <span class="pre">number</span> <span class="pre">}</span></code>.</li>
<li>Functions in an ambient context, such as <code class="docutils literal"><span class="pre">declare</span> <span class="pre">function</span> <span class="pre">foo(x:</span> <span class="pre">number):</span> <span class="pre">string</span></code>.</li>
</ul>
<p>We recommend that you use the predicate <code class="docutils literal"><span class="pre">Function.hasBody()</span></code> to distinguish concrete functions from signatures.</p>
</div>
<div class="section" id="type-parameters">
<h3>Type parameters<a class="headerlink" href="#type-parameters" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$TypeParameter.html">TypeParameter</a> class represents type parameters, and the <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$TypeParameterized.html">TypeParameterized</a> class represents entities that can declare type parameters. Classes, interfaces, type aliases, functions, and mapped type expressions are all <code class="docutils literal"><span class="pre">TypeParameterized</span></code>.</p>
<p>You can access type parameters using the following predicates:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">TypeParameterized.getTypeParameter(n)</span></code> gets the <code class="docutils literal"><span class="pre">n</span></code>th declared type parameter.</li>
<li><code class="docutils literal"><span class="pre">TypeParameter.getHost()</span></code> gets the entity declaring a given type parameter.</li>
</ul>
<p>You can access type arguments using the following predicates:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">GenericTypeExpr.getTypeArgument(n)</span></code> gets the <code class="docutils literal"><span class="pre">n</span></code>th type argument of a type.</li>
<li><code class="docutils literal"><span class="pre">TypeAccess.getTypeArgument(n)</span></code> is a convenient alternative for the above (a <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$TypeAccess.html">TypeAccess</a> with type arguments is wrapped in a <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$GenericTypeExpr.html">GenericTypeExpr</a>).</li>
<li><code class="docutils literal"><span class="pre">InvokeExpr.getTypeArgument(n)</span></code> gets the <code class="docutils literal"><span class="pre">n</span></code>th type argument of a call.</li>
<li><code class="docutils literal"><span class="pre">ExpressionWithTypeArguments.getTypeArgument(n)</span></code> gets the <code class="docutils literal"><span class="pre">n</span></code>th type argument of a generic superclass expression.</li>
</ul>
<p>To select references to a given type parameter, use <code class="docutils literal"><span class="pre">getLocalTypeName()</span></code> (see <a class="reference external" href="#name-binding">Name binding</a> below).</p>
<div class="section" id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h4>
<p>Select expressions that cast a value to a type parameter:</p>
<div class="highlight-ql"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="n">javascript</span>

<span class="k">from</span> <span class="n">TypeParameter</span> <span class="n">param</span><span class="p">,</span> <span class="n">TypeAssertion</span> <span class="n">assertion</span>
<span class="k">where</span> <span class="n">assertion</span><span class="p">.</span><span class="n">getTypeAnnotation</span><span class="p">()</span> <span class="o">=</span> <span class="n">param</span><span class="p">.</span><span class="n">getLocalTypeName</span><span class="p">().</span><span class="n">getAnAccess</span><span class="p">()</span>
<span class="k">select</span> <span class="n">assertion</span><span class="p">,</span> <span class="s">&quot;Cast to type parameter.&quot;</span>
</pre></div>
</div>
<p>➤ <a class="reference external" href="https://lgtm.com/query/1505979606441/">See this in the query console on LGTM.com</a>.</p>
</div>
</div>
<div class="section" id="classes-and-interfaces">
<h3>Classes and interfaces<a class="headerlink" href="#classes-and-interfaces" title="Permalink to this headline">¶</a></h3>
<p>The CodeQL class <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/Classes.qll/type.Classes$ClassOrInterface.html">ClassOrInterface</a> is a common supertype of classes and interfaces, and provides some TypeScript-specific member predicates:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ClassOrInterface.isAbstract()</span></code> holds if this is an interface or a class with the <code class="docutils literal"><span class="pre">abstract</span></code> modifier.</li>
<li><code class="docutils literal"><span class="pre">ClassOrInterface.getASuperInterface()</span></code> gets a type from the <code class="docutils literal"><span class="pre">implements</span></code> clause of a class or from the <code class="docutils literal"><span class="pre">extends</span></code> clause of an interface.</li>
<li><code class="docutils literal"><span class="pre">ClassOrInterface.getACallSignature()</span></code> gets a call signature of an interface, such as in <code class="docutils literal"><span class="pre">{</span> <span class="pre">(arg:</span> <span class="pre">string):</span> <span class="pre">number</span> <span class="pre">}</span></code>.</li>
<li><code class="docutils literal"><span class="pre">ClassOrInterface.getAnIndexSignature()</span></code> gets an index signature, such as in <code class="docutils literal"><span class="pre">{</span> <span class="pre">[key:</span> <span class="pre">string]:</span> <span class="pre">number</span> <span class="pre">}</span></code>.</li>
<li><code class="docutils literal"><span class="pre">ClassOrInterface.getATypeParameter()</span></code> gets a declared type parameter (special case of <code class="docutils literal"><span class="pre">TypeParameterized.getATypeParameter()</span></code>).</li>
</ul>
<p>Note that the superclass of a class is an expression, not a type annotation. If the superclass has type arguments, it will be an expression of kind <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$ExpressionWithTypeArguments.html">ExpressionWithTypeArguments</a>.</p>
<p>Also see the documentation for classes in the “<a class="reference external" href="introduce-libraries-js#classes">CodeQL libraries for JavaScript</a>.”</p>
<p>To select the type references to a class or an interface, use <code class="docutils literal"><span class="pre">getTypeName()</span></code>.</p>
</div>
<div class="section" id="statements">
<h3>Statements<a class="headerlink" href="#statements" title="Permalink to this headline">¶</a></h3>
<p>The following are TypeScript-specific statements:</p>
<ul class="simple">
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$NamespaceDeclaration.html">NamespaceDeclaration</a>: a statement such as <code class="docutils literal"><span class="pre">namespace</span> <span class="pre">M</span> <span class="pre">{}</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$EnumDeclaration.html">EnumDeclaration</a>: a statement such as <code class="docutils literal"><span class="pre">enum</span> <span class="pre">Color</span> <span class="pre">{</span> <span class="pre">red,</span> <span class="pre">green,</span> <span class="pre">blue</span> <span class="pre">}</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$TypeAliasDeclaration.html">TypeAliasDeclaration</a>: a statement such as <code class="docutils literal"><span class="pre">type</span> <span class="pre">A</span> <span class="pre">=</span> <span class="pre">number</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$InterfaceDeclaration.html">InterfaceDeclaration</a>: a statement such as <code class="docutils literal"><span class="pre">interface</span> <span class="pre">Point</span> <span class="pre">{</span> <span class="pre">x:</span> <span class="pre">number;</span> <span class="pre">y:</span> <span class="pre">number;</span> <span class="pre">}</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$ImportEqualsDeclaration.html">ImportEqualsDeclaration</a>: a statement such as <code class="docutils literal"><span class="pre">import</span> <span class="pre">fs</span> <span class="pre">=</span> <span class="pre">require(&quot;fs&quot;)</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$ExportAssignDeclaration.html">ExportAssignDeclaration</a>: a statement such as <code class="docutils literal"><span class="pre">export</span> <span class="pre">=</span> <span class="pre">M</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$ExportAsNamespaceDeclaration.html">ExportAsNamespaceDeclaration</a>: a statement such as <code class="docutils literal"><span class="pre">export</span> <span class="pre">as</span> <span class="pre">namespace</span> <span class="pre">M</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$ExternalModuleDeclaration.html">ExternalModuleDeclaration</a>: a statement such as <code class="docutils literal"><span class="pre">module</span> <span class="pre">&quot;foo&quot;</span> <span class="pre">{}</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$GlobalAugmentationDeclaration.html">GlobalAugmentationDeclaration</a>: a statement such as <code class="docutils literal"><span class="pre">global</span> <span class="pre">{}</span></code></li>
</ul>
</div>
<div class="section" id="expressions">
<h3>Expressions<a class="headerlink" href="#expressions" title="Permalink to this headline">¶</a></h3>
<p>The following are TypeScript-specific expressions:</p>
<ul class="simple">
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$ExpressionWithTypeArguments.html">ExpressionWithTypeArguments</a>: occurs when the <code class="docutils literal"><span class="pre">extends</span></code> clause of a class has type arguments, such as in <code class="docutils literal"><span class="pre">class</span> <span class="pre">C</span> <span class="pre">extends</span> <span class="pre">D&lt;string&gt;</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$TypeAssertion.html">TypeAssertion</a>: asserts that a value has a given type, such as <code class="docutils literal"><span class="pre">x</span> <span class="pre">as</span> <span class="pre">number</span></code> or <code class="docutils literal"><span class="pre">&lt;number&gt;</span> <span class="pre">x</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$NonNullAssertion.html">NonNullAssertion</a>: asserts that a value is not null or undefined, such as <code class="docutils literal"><span class="pre">x!</span></code>.</li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$ExternalModuleReference.html">ExternalModuleReference</a>: a <code class="docutils literal"><span class="pre">require</span></code> call on the right-hand side of an import-assign, such as <code class="docutils literal"><span class="pre">import</span> <span class="pre">fs</span> <span class="pre">=</span> <span class="pre">require(&quot;fs&quot;)</span></code>.</li>
</ul>
</div>
<div class="section" id="ambient-declarations">
<h3>Ambient declarations<a class="headerlink" href="#ambient-declarations" title="Permalink to this headline">¶</a></h3>
<p>Type annotations, interfaces, and type aliases are considered ambient AST nodes, as is anything with a <code class="docutils literal"><span class="pre">declare</span></code> modifier.</p>
<p>The predicate <code class="docutils literal"><span class="pre">ASTNode.isAmbient()</span></code> can be used to determine if an AST node is ambient.</p>
<p>Ambient nodes are mostly ignored by control flow and data flow analysis. The outermost part of an ambient declaration has a single no-op node in the control flow graph, and it has no internal control flow.</p>
</div>
</div>
<div class="section" id="static-type-information">
<h2>Static type information<a class="headerlink" href="#static-type-information" title="Permalink to this headline">¶</a></h2>
<p>Static type information and global name binding is available for projects with “full” TypeScript extraction enabled. This option is enabled by default for projects on LGTM.com and when you create databases with the <a class="reference external" href="https://help.semmle.com/codeql/codeql-cli.html">CodeQL CLI</a>.</p>
<blockquote class="pull-quote">
<div><p>Note</p>
<p>If you are using the <a class="reference external" href="https://help.semmle.com/wiki/display/SD/QL+command-line+tools">legacy QL command-line tools</a>, you must enable full TypeScript extraction by passing <code class="docutils literal"><span class="pre">--typescript-full</span></code> to the JavaScript extractor. For further information on customizing calls to the extractor, see <a class="reference external" href="https://help.semmle.com/wiki/display/SD/Customizing+JavaScript+extraction">Customizing JavaScript extraction</a>.</p>
<p>Without full extraction, the classes and predicates described in this section are empty.</p>
</div></blockquote>
<div class="section" id="basic-usage">
<h3>Basic usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$Type.html">Type</a> class represents a static type, such as <code class="docutils literal"><span class="pre">number</span></code> or <code class="docutils literal"><span class="pre">string</span></code>. The type of an expression can be obtained with <code class="docutils literal"><span class="pre">Expr.getType()</span></code>.</p>
<p>Types that refer to a specific named type can be recognized in various ways:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">type.(TypeReference).hasQualifiedName(name)</span></code> holds if the type refers to the given named type.</li>
<li><code class="docutils literal"><span class="pre">type.(TypeReference).hasUnderlyingType(name)</span></code> holds if the type refers to the given named type or a transitive subtype thereof.</li>
<li><code class="docutils literal"><span class="pre">type.hasUnderlyingType(name)</span></code> is like the above, but additionally holds if the reference is wrapped in a union and/or intersection type.</li>
</ul>
<p>The <code class="docutils literal"><span class="pre">hasQualifiedName</span></code> and <code class="docutils literal"><span class="pre">hasUnderlyingType</span></code> predicates have two overloads:</p>
<ul class="simple">
<li>The single-argument version takes a qualified name relative to the global scope.</li>
<li>The two-argument version takes the name of a module and qualified name relative to that module.</li>
</ul>
<div class="section" id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<p>The following query can be used to find all <code class="docutils literal"><span class="pre">toString</span></code> calls on a Node.js <code class="docutils literal"><span class="pre">Buffer</span></code> object:</p>
<div class="highlight-ql"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="n">javascript</span>

<span class="k">from</span> <span class="n">MethodCallExpr</span> <span class="n">call</span>
<span class="k">where</span> <span class="n">call</span><span class="p">.</span><span class="n">getReceiver</span><span class="p">().</span><span class="n">getType</span><span class="p">().</span><span class="n">hasUnderlyingType</span><span class="p">(</span><span class="s">&quot;Buffer&quot;</span><span class="p">)</span>
  <span class="k">and</span> <span class="n">call</span><span class="p">.</span><span class="n">getMethodName</span><span class="p">()</span> <span class="o">=</span> <span class="s">&quot;toString&quot;</span>
<span class="k">select</span> <span class="n">call</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="working-with-types">
<h3>Working with types<a class="headerlink" href="#working-with-types" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">Type</span></code> entities are not associated with a specific source location. For instance, there can be many uses of the <code class="docutils literal"><span class="pre">number</span></code> keyword, but there is only one <code class="docutils literal"><span class="pre">number</span></code> type.</p>
<p>Some important member predicates of <code class="docutils literal"><span class="pre">Type</span></code> are:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Type.getProperty(name)</span></code> gets the type of a named property.</li>
<li><code class="docutils literal"><span class="pre">Type.getMethod(name)</span></code> gets the signature of a named method.</li>
<li><code class="docutils literal"><span class="pre">Type.getSignature(kind,n)</span></code> gets the <code class="docutils literal"><span class="pre">n</span></code>th overload of a call or constructor signature.</li>
<li><code class="docutils literal"><span class="pre">Type.getStringIndexType()</span></code> gets the type of the string index signature.</li>
<li><code class="docutils literal"><span class="pre">Type.getNumberIndexType()</span></code> gets the type of the number index signature.</li>
</ul>
<p>A <code class="docutils literal"><span class="pre">Type</span></code> entity always belongs to exactly one of the following subclasses:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">TypeReference</span></code>: a named type, possibly with type arguments.</li>
<li><code class="docutils literal"><span class="pre">UnionType</span></code>: a union type such as <code class="docutils literal"><span class="pre">string</span> <span class="pre">|</span> <span class="pre">number</span></code>.</li>
<li><code class="docutils literal"><span class="pre">IntersectionType</span></code>: an intersection type such as <code class="docutils literal"><span class="pre">T</span> <span class="pre">&amp;</span> <span class="pre">U</span></code>.</li>
<li><code class="docutils literal"><span class="pre">TupleType</span></code>: a tuple type such as <code class="docutils literal"><span class="pre">[string,</span> <span class="pre">number]</span></code>.</li>
<li><code class="docutils literal"><span class="pre">StringType</span></code>: the <code class="docutils literal"><span class="pre">string</span></code> type.</li>
<li><code class="docutils literal"><span class="pre">NumberType</span></code>: the <code class="docutils literal"><span class="pre">number</span></code> type.</li>
<li><code class="docutils literal"><span class="pre">AnyType</span></code>: the <code class="docutils literal"><span class="pre">any</span></code> type.</li>
<li><code class="docutils literal"><span class="pre">NeverType</span></code>: the <code class="docutils literal"><span class="pre">never</span></code> type.</li>
<li><code class="docutils literal"><span class="pre">VoidType</span></code>: the <code class="docutils literal"><span class="pre">void</span></code> type.</li>
<li><code class="docutils literal"><span class="pre">NullType</span></code>: the <code class="docutils literal"><span class="pre">null</span></code> type.</li>
<li><code class="docutils literal"><span class="pre">UndefinedType</span></code>: the <code class="docutils literal"><span class="pre">undefined</span></code> type.</li>
<li><code class="docutils literal"><span class="pre">ObjectKeywordType</span></code>: the <code class="docutils literal"><span class="pre">object</span></code> type.</li>
<li><code class="docutils literal"><span class="pre">SymbolType</span></code>: a <code class="docutils literal"><span class="pre">symbol</span></code> or <code class="docutils literal"><span class="pre">unique</span> <span class="pre">symbol</span></code> type.</li>
<li><code class="docutils literal"><span class="pre">AnonymousInterfaceType</span></code>: an anonymous type such as <code class="docutils literal"><span class="pre">{x:</span> <span class="pre">number}</span></code>.</li>
<li><code class="docutils literal"><span class="pre">TypeVariableType</span></code>: a reference to a type variable.</li>
<li><code class="docutils literal"><span class="pre">ThisType</span></code>: the <code class="docutils literal"><span class="pre">this</span></code> type within a specific type.</li>
<li><code class="docutils literal"><span class="pre">TypeofType</span></code>: the type of a named value, such as <code class="docutils literal"><span class="pre">typeof</span> <span class="pre">X</span></code>.</li>
<li><code class="docutils literal"><span class="pre">BooleanLiteralType</span></code>: the <code class="docutils literal"><span class="pre">true</span></code> or <code class="docutils literal"><span class="pre">false</span></code> type.</li>
<li><code class="docutils literal"><span class="pre">StringLiteralType</span></code>: the type of a string constant.</li>
<li><code class="docutils literal"><span class="pre">NumberLiteralType</span></code>: the type of a number constant.</li>
</ul>
<p>Additionally, <code class="docutils literal"><span class="pre">Type</span></code> has the following subclasses which overlap partially with those above:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">BooleanType</span></code>: the type <code class="docutils literal"><span class="pre">boolean</span></code>, internally represented as the union type <code class="docutils literal"><span class="pre">true</span> <span class="pre">|</span> <span class="pre">false</span></code>.</li>
<li><code class="docutils literal"><span class="pre">PromiseType</span></code>: a type that describes a promise such as <code class="docutils literal"><span class="pre">Promise&lt;T&gt;</span></code>.</li>
<li><code class="docutils literal"><span class="pre">ArrayType</span></code>: a type that describes an array object, possibly a tuple type.<ul>
<li><code class="docutils literal"><span class="pre">PlainArrayType</span></code>: a type of form <code class="docutils literal"><span class="pre">Array&lt;T&gt;</span></code>.</li>
<li><code class="docutils literal"><span class="pre">ReadonlyArrayType</span></code>: a type of form <code class="docutils literal"><span class="pre">ReadonlyArray&lt;T&gt;</span></code>.</li>
</ul>
</li>
<li><code class="docutils literal"><span class="pre">LiteralType</span></code>: a boolean, string, or number literal type.</li>
<li><code class="docutils literal"><span class="pre">NumberLikeType</span></code>: the <code class="docutils literal"><span class="pre">number</span></code> type or a number literal type.</li>
<li><code class="docutils literal"><span class="pre">StringLikeType</span></code>: the <code class="docutils literal"><span class="pre">string</span></code> type or a string literal type.</li>
<li><code class="docutils literal"><span class="pre">BooleanLikeType</span></code>: the <code class="docutils literal"><span class="pre">true</span></code>, <code class="docutils literal"><span class="pre">false</span></code>, or <code class="docutils literal"><span class="pre">boolean</span></code> type.</li>
</ul>
</div>
<div class="section" id="canonical-names-and-named-types">
<h3>Canonical names and named types<a class="headerlink" href="#canonical-names-and-named-types" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">CanonicalName</span></code> is a CodeQL class representing a qualified name relative to a root scope, such as a module or the global scope. It typically represents an entity such as a type, namespace, variable, or function. <code class="docutils literal"><span class="pre">TypeName</span></code> and <code class="docutils literal"><span class="pre">Namespace</span></code> are subclasses of this class.</p>
<p>Canonical names can be recognized using the <code class="docutils literal"><span class="pre">hasQualifiedName</span></code> predicate:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">hasQualifiedName(name)</span></code> holds if the qualified name is <code class="docutils literal"><span class="pre">name</span></code> relative to the global scope.</li>
<li><code class="docutils literal"><span class="pre">hasQualifiedName(module,name)</span></code> holds if the qualified name is <code class="docutils literal"><span class="pre">name</span></code> relative to the given module name.</li>
</ul>
<p>For convenience, this predicate is also available on other classes, such as <code class="docutils literal"><span class="pre">TypeReference</span></code> and <code class="docutils literal"><span class="pre">TypeofType</span></code>, where it forwards to the underlying canonical name.</p>
</div>
<div class="section" id="function-types">
<h3>Function types<a class="headerlink" href="#function-types" title="Permalink to this headline">¶</a></h3>
<p>There is no CodeQL class for function types, as any type with a call or construct signature is usable as a function. The type <code class="docutils literal"><span class="pre">CallSignatureType</span></code> represents such a signature (with or without the <code class="docutils literal"><span class="pre">new</span></code> keyword).</p>
<p>Signatures can be obtained in several ways:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Type.getFunctionSignature(n)</span></code> gets the <code class="docutils literal"><span class="pre">n</span></code>th overloaded function signature.</li>
<li><code class="docutils literal"><span class="pre">Type.getConstructorSignature(n)</span></code> gets the <code class="docutils literal"><span class="pre">n</span></code>th overloaded constructor signature.</li>
<li><code class="docutils literal"><span class="pre">Type.getLastFunctionSignature()</span></code> gets the last declared function signature.</li>
<li><code class="docutils literal"><span class="pre">Type.getLastConstructorSignature()</span></code> gets the last declared constructor signature.</li>
</ul>
<p>Some important member predicates of <code class="docutils literal"><span class="pre">CallSignatureType</span></code> are:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">CallSignatureType.getParameter(n)</span></code> gets the type of the <code class="docutils literal"><span class="pre">n</span></code>th parameter.</li>
<li><code class="docutils literal"><span class="pre">CallSignatureType.getParameterName(n)</span></code> gets the name of the <code class="docutils literal"><span class="pre">n</span></code>th parameter.</li>
<li><code class="docutils literal"><span class="pre">CallSignatureType.getReturnType()</span></code> gets the return type.</li>
</ul>
<p>Note that a signature is not associated with a specific declaration site.</p>
</div>
<div class="section" id="call-resolution">
<h3>Call resolution<a class="headerlink" href="#call-resolution" title="Permalink to this headline">¶</a></h3>
<p>Additional type information is available for invocation expressions:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">InvokeExpr.getResolvedCallee()</span></code> gets the callee as a concrete <code class="docutils literal"><span class="pre">Function</span></code>.</li>
<li><code class="docutils literal"><span class="pre">InvokeExpr.getResolvedCalleeName()</span></code> get the callee as a canonical name.</li>
<li><code class="docutils literal"><span class="pre">InvokeExpr.getResolvedSignature()</span></code> gets the signature of the invoked function, with overloading resolved and type arguments substituted.</li>
</ul>
<p>Note that these refer to the call target as determined by the type system. The actual call target may differ at runtime, for instance, if the target is a method that has been overridden in a subclass.</p>
</div>
<div class="section" id="inheritance-and-subtyping">
<h3>Inheritance and subtyping<a class="headerlink" href="#inheritance-and-subtyping" title="Permalink to this headline">¶</a></h3>
<p>The declared supertypes of a named type can be obtained using <code class="docutils literal"><span class="pre">TypeName.getABaseTypeName()</span></code>.</p>
<p>This operates at the level of type names, hence the specific type arguments used in the inheritance chain are not available. However, these can often be deduced using <code class="docutils literal"><span class="pre">Type.getProperty</span></code> or <code class="docutils literal"><span class="pre">Type.getMethod</span></code> which both take inheritance into account.</p>
<p>This only accounts for types explicitly mentioned in the <code class="docutils literal"><span class="pre">extends</span></code> or <code class="docutils literal"><span class="pre">implements</span></code> clause of a type. There is no predicate that determines subtyping or assignability between types in general.</p>
<p>The following two predicates can be useful for recognising subtypes of a given type:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Type.unfold()</span></code> unfolds unions and/or intersection types and get the underlying types, or the type itself if it is not a union or intersection.</li>
<li><code class="docutils literal"><span class="pre">Type.hasUnderlyingType(name)</span></code> holds if the type is a reference to the given named type, possibly after unfolding unions/intersections and following declared supertypes.</li>
</ul>
<div class="section" id="id1">
<h4>Example<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>The following query can be used to find all classes that are React components, along with the type of their <code class="docutils literal"><span class="pre">props</span></code> property, which generally coincides with its first type argument:</p>
<div class="highlight-ql"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="n">javascript</span>

<span class="k">from</span> <span class="n">ClassDefinition</span> <span class="n">cls</span><span class="p">,</span> <span class="n">TypeName</span> <span class="n">name</span>
<span class="k">where</span> <span class="n">name</span> <span class="o">=</span> <span class="n">cls</span><span class="p">.</span><span class="n">getTypeName</span><span class="p">()</span>
  <span class="k">and</span> <span class="n">name</span><span class="p">.</span><span class="n">getABaseTypeName</span><span class="o">+</span><span class="p">().</span><span class="n">hasQualifiedName</span><span class="p">(</span><span class="s">&quot;React.Component&quot;</span><span class="p">)</span>
<span class="k">select</span> <span class="n">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">.</span><span class="n">getType</span><span class="p">().</span><span class="n">getProperty</span><span class="p">(</span><span class="s">&quot;props&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="name-binding">
<h2>Name binding<a class="headerlink" href="#name-binding" title="Permalink to this headline">¶</a></h2>
<p>In TypeScript, names can refer to variables, types, and namespaces, or a combination of these.</p>
<p>These concepts are modeled as distinct entities: <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/Variables.qll/type.Variables$Variable.html">Variable</a>, <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/CanonicalNames.qll/type.CanonicalNames$TypeName.html">TypeName</a>, and <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/CanonicalNames.qll/type.CanonicalNames$Namespace.html">Namespace</a>. For example, the class <code class="docutils literal"><span class="pre">C</span></code> below introduces both a variable and a type:</p>
<div class="highlight-typescript"><div class="highlight"><pre><span></span><span class="kr">class</span> <span class="nx">C</span> <span class="p">{}</span>
<span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">C</span><span class="p">;</span> <span class="c1">// refers to the variable C</span>
<span class="kd">let</span> <span class="nx">y</span>: <span class="kt">C</span><span class="p">;</span>  <span class="c1">// refers to the type C</span>
</pre></div>
</div>
<p>The variable <code class="docutils literal"><span class="pre">C</span></code> and the type <code class="docutils literal"><span class="pre">C</span></code> are modeled as distinct entities. One is a <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/Variables.qll/type.Variables$Variable.html">Variable</a>, the other is a <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/CanonicalNames.qll/type.CanonicalNames$TypeName.html">TypeName</a>.</p>
<p>TypeScript also allows you to import types and namespaces, and give them local names in different scopes. For example, the import below introduces a local type name <code class="docutils literal"><span class="pre">B</span></code>:</p>
<div class="highlight-typescript"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span><span class="nx">C</span> <span class="kr">as</span> <span class="nx">B</span><span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;./foo&quot;</span>
</pre></div>
</div>
<p>The local name <code class="docutils literal"><span class="pre">B</span></code> is represented as a <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$LocalTypeName.html">LocalTypeName</a> named <code class="docutils literal"><span class="pre">B</span></code>, restricted to just the file containing the import. An import statement can also introduce a <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/Variables.qll/type.Variables$Variable.html">Variable</a> and a <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$LocalNamespaceName.html">LocalNamespaceName</a>.</p>
<p>The following table shows the relevant classes for working with each kind of name. The classes are described in more detail below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="2%" />
<col width="25%" />
<col width="23%" />
<col width="26%" />
<col width="24%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Kind</th>
<th class="head">Local alias</th>
<th class="head">Canonical name</th>
<th class="head">Definition</th>
<th class="head">Access</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Value</td>
<td><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/Variables.qll/type.Variables$Variable.html">Variable</a></td>
<td>&#160;</td>
<td>&#160;</td>
<td><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/Variables.qll/type.Variables$VarAccess.html">VarAccess</a></td>
</tr>
<tr class="row-odd"><td>Type</td>
<td><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$LocalTypeName.html">LocalTypeName</a></td>
<td><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/CanonicalNames.qll/type.CanonicalNames$TypeName.html">TypeName</a></td>
<td><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$TypeDefinition.html">TypeDefinition</a></td>
<td><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$TypeAccess.html">TypeAccess</a></td>
</tr>
<tr class="row-even"><td>Namespace</td>
<td><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$LocalNamespaceName.html">LocalNamespaceName</a></td>
<td><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/CanonicalNames.qll/type.CanonicalNames$Namespace.html">Namespace</a></td>
<td><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$NamespaceDeclaration.html">NamespaceDefinition</a></td>
<td><a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$NamespaceAccess.html">NamespaceAccess</a></td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> <code class="docutils literal"><span class="pre">TypeName</span></code> and <code class="docutils literal"><span class="pre">Namespace</span></code> are only populated if the database is generated using full TypeScript extraction. <code class="docutils literal"><span class="pre">LocalTypeName</span></code> and <code class="docutils literal"><span class="pre">LocalNamespaceName</span></code> are always populated.</p>
<div class="section" id="type-names">
<h3>Type names<a class="headerlink" href="#type-names" title="Permalink to this headline">¶</a></h3>
<p>A <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/CanonicalNames.qll/type.CanonicalNames$TypeName.html">TypeName</a> is a qualified name for a type and is not bound to a specific lexical scope. The <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$TypeDefinition.html">TypeDefinition</a> class represents an entity that defines a type, namely a class, interface, type alias, enum, or enum member. The relevant predicates for working with type names are:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">TypeAccess.getTypeName()</span></code> gets the qualified name being referenced (if any).</li>
<li><code class="docutils literal"><span class="pre">TypeDefinition.getTypeName()</span></code> gets the qualified name of a class, interface, type alias, enum, or enum member.</li>
<li><code class="docutils literal"><span class="pre">TypeName.getAnAccess()</span></code>, gets an access to a given type.</li>
<li><code class="docutils literal"><span class="pre">TypeName.getADefinition()</span></code>, get a definition of a given type. Note that interfaces can have multiple definitions.</li>
</ul>
<p>A <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$LocalTypeName.html">LocalTypeName</a> behaves like a block-scoped variable, that is, it has an unqualified name and is restricted to a specific scope. The relevant predicates are:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">LocalTypeAccess.getLocalTypeName()</span></code> gets the local name referenced by an unqualified type access.</li>
<li><code class="docutils literal"><span class="pre">LocalTypeName.getAnAccess()</span></code> gets an access to a local type name.</li>
<li><code class="docutils literal"><span class="pre">LocalTypeName.getADeclaration()</span></code> gets a declaration of this name.</li>
<li><code class="docutils literal"><span class="pre">LocalTypeName.getTypeName()</span></code> gets the qualified name to which this name refers.</li>
</ul>
<div class="section" id="id2">
<h4>Examples<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>Find references that omit type arguments to a generic type.</p>
<p>It is best to use <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/CanonicalNames.qll/type.CanonicalNames$TypeName.html">TypeName</a> to resolve through imports and qualified names:</p>
<div class="highlight-ql"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="n">javascript</span>

<span class="k">from</span> <span class="n">TypeDefinition</span> <span class="n">def</span><span class="p">,</span> <span class="n">TypeAccess</span> <span class="n">access</span>
<span class="k">where</span> <span class="n">access</span><span class="p">.</span><span class="n">getTypeName</span><span class="p">().</span><span class="n">getADefinition</span><span class="p">()</span> <span class="o">=</span> <span class="n">def</span>
  <span class="k">and</span> <span class="n">def</span><span class="p">.(</span><span class="n">TypeParameterized</span><span class="p">).</span><span class="n">hasTypeParameters</span><span class="p">()</span>
  <span class="k">and</span> <span class="k">not</span> <span class="n">access</span><span class="p">.</span><span class="n">hasTypeArguments</span><span class="p">()</span>
<span class="k">select</span> <span class="n">access</span><span class="p">,</span> <span class="s">&quot;Type arguments are omitted&quot;</span>
</pre></div>
</div>
<p>➤ <a class="reference external" href="https://lgtm.com/query/1505985316500/">See this in the query console on LGTM.com</a>.</p>
<p>Find imported names that are used as both a type and a value:</p>
<div class="highlight-ql"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="n">javascript</span>

<span class="k">from</span> <span class="n">ImportSpecifier</span> <span class="n">spec</span>
<span class="k">where</span> <span class="k">exists</span> <span class="p">(</span><span class="n">LocalTypeAccess</span> <span class="n">access</span> <span class="o">|</span> <span class="n">access</span><span class="p">.</span><span class="n">getLocalTypeName</span><span class="p">().</span><span class="n">getADeclaration</span><span class="p">()</span> <span class="o">=</span> <span class="n">spec</span><span class="p">.</span><span class="n">getLocal</span><span class="p">())</span>
  <span class="k">and</span> <span class="k">exists</span> <span class="p">(</span><span class="n">VarAccess</span> <span class="n">access</span> <span class="o">|</span> <span class="n">access</span><span class="p">.</span><span class="n">getVariable</span><span class="p">().</span><span class="n">getADeclaration</span><span class="p">()</span> <span class="o">=</span> <span class="n">spec</span><span class="p">.</span><span class="n">getLocal</span><span class="p">())</span>
<span class="k">select</span> <span class="n">spec</span><span class="p">,</span> <span class="s">&quot;Used as both variable and type&quot;</span>
</pre></div>
</div>
<p>➤ <a class="reference external" href="https://lgtm.com/query/1505975787348/">See this in the query console on LGTM.com</a>.</p>
</div>
</div>
<div class="section" id="namespace-names">
<h3>Namespace names<a class="headerlink" href="#namespace-names" title="Permalink to this headline">¶</a></h3>
<p>Namespaces are represented by the classes <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/CanonicalNames.qll/type.CanonicalNames$Namespace.html">Namespace</a> and <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$LocalNamespaceName.html">LocalNamespaceName</a>. The <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$NamespaceDefinition.html">NamespaceDefinition</a> class represents a syntactic definition of a namespace, which includes ordinary namespace declarations as well as enum declarations.</p>
<p>Note that these classes deal exclusively with namespaces referenced from inside type annotations, not through expressions.</p>
<p>A <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/CanonicalNames.qll/type.CanonicalNames$Namespace.html">Namespace</a> is a qualified name for a namespace, and is not bound to a specific scope. The relevant predicates for working with namespaces are:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">NamespaceAccess.getNamespace()</span></code> gets the namespace being referenced by a namespace access.</li>
<li><code class="docutils literal"><span class="pre">NamespaceDefinition.getNamespace()</span></code> gets the namespace defined by a namespace or enum declaration.</li>
<li><code class="docutils literal"><span class="pre">Namespace.getAnAccess()</span></code> gets an access to a namespace from inside a type.</li>
<li><code class="docutils literal"><span class="pre">Namespace.getADefinition()</span></code> gets a definition of this namespace. Note that namespaces can have multiple definitions.</li>
<li><code class="docutils literal"><span class="pre">Namespace.getNamespaceMember(name)</span></code> gets an inner namespace with a given name.</li>
<li><code class="docutils literal"><span class="pre">Namespace.getTypeMember(name)</span></code> gets a type exported under a given name.</li>
<li><code class="docutils literal"><span class="pre">Namespace.getAnExportingContainer()</span></code> gets a <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/AST.qll/type.AST$StmtContainer.html">StmtContainer</a> whose exports contribute to this namespace. This can be a the body of a namespace declaration or the top-level of a module. Enums have no exporting containers.</li>
</ul>
<p>A <a class="reference external" href="https://help.semmle.com/qldoc/javascript/semmle/javascript/TypeScript.qll/type.TypeScript$LocalNamespaceName.html">LocalNamespaceName</a> behaves like a block-scoped variable, that is, it has an unqualified name and is restricted to a specific scope. The relevant predicates are:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">LocalNamespaceAccess.getLocalNamespaceName()</span></code> gets the local name referenced by an identifier.</li>
<li><code class="docutils literal"><span class="pre">LocalNamespaceName.getAnAccess()</span></code> gets an identifier that refers to this local name.</li>
<li><code class="docutils literal"><span class="pre">LocalNamespaceName.getADeclaration()</span></code> gets an identifier that declares this local name.</li>
<li><code class="docutils literal"><span class="pre">LocalNamespaceName.getNamespace()</span></code> gets the namespace to which this name refers.</li>
</ul>
</div>
</div>
<div class="section" id="further-reading">
<h2>Further reading<a class="headerlink" href="#further-reading" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://github.com/github/codeql/tree/main/javascript/ql/src">CodeQL queries for JavaScript</a></li>
<li><a class="reference external" href="https://github.com/github/codeql/tree/main/javascript/ql/examples">Example queries for JavaScript</a></li>
<li><a class="reference external" href="https://help.semmle.com/qldoc/javascript/">CodeQL library reference for JavaScript</a></li>
</ul>
<ul class="simple">
<li>“<a class="reference external" href="https://help.semmle.com/QL/ql-handbook">QL language reference</a>”</li>
<li>“<a class="reference external" href="https://help.semmle.com/codeql/codeql-tools.html">CodeQL tools</a>”</li>
</ul>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    </div>
    <div class="privacy">
            <a target="_blank" href="https://help.semmle.com/privacy-policy.html" alt="Privacy policy and tracking preferences" title="Privacy policy and tracking preferences">Privacy policy</a>
    </div>
    
</div>


 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .name").show();
        $(".toggle .name").click(function() {
            $(this).parent().children().not(".name").toggle(400);
            $(this).parent().children(".name").toggleClass("open");
        })
    });
</script>

  </body>
</html>