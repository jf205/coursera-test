<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="qldoc"><meta name="description" content="API documentation for CodeQL"><meta name="keywords" content="CodeQL,QL,CapturedVariableImpl"><meta name="addsearch-category" content="C# CodeQL library"><title>CapturedVariableImpl</title><link rel="stylesheet" type="text/css" href="https://unpkg.com/@primer/css/dist/primer.css"><link rel="stylesheet" type="text/css" href="../../../../../qldoc.css"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-5Q9DBRM');</script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5Q9DBRM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="Header text-white"><div class="Header-item"><svg class="octicon octicon-mark-github mr-2" height="32" viewbox="0 0 16 16" width="32"><path fill-rule="even-odd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></div><div class="Header-item--full f2 text-bold">CodeQL library for C#</div><div class="Header-item"><span>Version 1.26.0</span></div><div class="Header-item .text-gray-light"><div class="nav-section"><a href="../../../../../index.html">Index</a></div></div><div class="Header-item"><a title="Search the CodeQL libraries" target="_blank" href="https://help.semmle.com/home/help/search-results-qldoc.html"><span class=".text-gray-light">Search</span></a></div></div><div id="main"><nav id="sidebar"><div id="sidebar-content" class="pt-2"><div class="nav-section"><p>For other CodeQL resources, including tutorials and examples, see <a href="https://help.semmle.com/QL/learn-ql/" class="learn-ql-link" target="_blank">Learning CodeQL</a><p>.</p></p><h2 class="section-heading"><a href="module.SSA$Ssa$CapturedVariableImpl.html" class="ref-link ref-module">CapturedVariableImpl</a></h2><div class="doc-block"><ol class="section-links"><li></li><li></li><li><a href="module.SSA$Ssa$CapturedVariableImpl.html#Import%20path">Import path</a></li><li><a href="module.SSA$Ssa$CapturedVariableImpl.html#Predicates">Predicates</a></li></ol></div></div><div class="nav-section"><div><div><h2 class="section-heading"><span>Module <a href="module.SSA$Ssa.html" class="ref-link ref-module" title="Module Ssa">Ssa</a></span></h2></div><div><h3 class="subsection-heading">Classes</h3><div class="doc-block"><table><tbody><tr><td><a href="type.SSA$Ssa$Definition.html" class="ref-link ref-type" title="Class Ssa::Definition">Definition</a></td></tr><tr><td><a href="type.SSA$Ssa$ExplicitDefinition.html" class="ref-link ref-type" title="Class Ssa::ExplicitDefinition">ExplicitDefinition</a></td></tr><tr><td><a href="type.SSA$Ssa$ImplicitCallDefinition.html" class="ref-link ref-type" title="Class Ssa::ImplicitCallDefinition">ImplicitCallDefinition</a></td></tr><tr><td><a href="type.SSA$Ssa$ImplicitDefinition.html" class="ref-link ref-type" title="Class Ssa::ImplicitDefinition">ImplicitDefinition</a></td></tr><tr><td><a href="type.SSA$Ssa$ImplicitEntryDefinition.html" class="ref-link ref-type" title="Class Ssa::ImplicitEntryDefinition">ImplicitEntryDefinition</a></td></tr><tr><td><a href="type.SSA$Ssa$ImplicitQualifierDefinition.html" class="ref-link ref-type" title="Class Ssa::ImplicitQualifierDefinition">ImplicitQualifierDefinition</a></td></tr><tr><td><a href="type.SSA$Ssa$ImplicitUntrackedDefinition.html" class="ref-link ref-type" title="Class Ssa::ImplicitUntrackedDefinition">ImplicitUntrackedDefinition</a></td></tr><tr><td><a href="type.SSA$Ssa$PhiNode.html" class="ref-link ref-type" title="Class Ssa::PhiNode">PhiNode</a></td></tr><tr><td><a href="type.SSA$Ssa$PseudoDefinition.html" class="ref-link ref-type" title="Class Ssa::PseudoDefinition">PseudoDefinition</a></td></tr><tr><td><a href="type.SSA$Ssa$SourceVariable.html" class="ref-link ref-type" title="Class Ssa::SourceVariable">SourceVariable</a></td></tr><tr><td><a href="type.SSA$Ssa$UncertainDefinition.html" class="ref-link ref-type" title="Class Ssa::UncertainDefinition">UncertainDefinition</a></td></tr></tbody></table></div></div><div><h3 class="subsection-heading">Modules</h3><div class="doc-block"><table><tbody><tr><td><a href="module.SSA$Ssa$Internal.html" class="ref-link ref-module" title="Module Ssa::Internal">Internal</a></td></tr><tr><td><a href="module.SSA$Ssa$SourceVariables.html" class="ref-link ref-module" title="Module Ssa::SourceVariables">SourceVariables</a></td></tr></tbody></table></div></div><div><h3 class="subsection-heading">Aliases</h3><div class="doc-block"><table><tbody><tr><td><a href="../../controlflow/BasicBlocks.qll/type.BasicBlocks$BasicBlock.html" class="ref-link ref-type" title="Class BasicBlocks::BasicBlock">BasicBlock</a></td></tr></tbody></table></div></div></div></div></div></nav><div class="overflow-y-auto width-full pt-2"><div id="content"><div><h1 class="section-heading" id="SSA::Ssa::CapturedVariableImpl"><span><span>Module <span><span><a href="module.SSA$Ssa.html" class="ref-link ref-module" title="Module Ssa">Ssa</a></span>::<a href="module.SSA$Ssa$CapturedVariableImpl.html" class="ref-link ref-module" title="Module Ssa::CapturedVariableImpl">CapturedVariableImpl</a></span></span></span></h1></div><div><div class="doc-block"><div class="qldoc"><p>As in the SSA construction for fields and properties, SSA construction
for captured variables relies on implicit update nodes at every call
site that conceivably could reach an update of the captured variable.
For example, there is an implicit update of <code>v</code> on line 4 in</p>
<pre><code class="language-csharp numbered-code"><span class="numbered-code-line">int M() {
</span><span class="numbered-code-line">  int i = 0;
</span><span class="numbered-code-line">  Action a = () =&gt; { i = 1; };
</span><span class="numbered-code-line">  a(); // implicit update of `v`
</span><span class="numbered-code-line">  return i;
</span><span class="numbered-code-line">}
</span></code></pre>
<p>We find update paths of the form:</p>
<pre><code class="numbered-code"><span class="numbered-code-line">  Call --(callEdge)--&gt;* Callable(update of v)
</span></code></pre>
<p>For simplicity, and for performance reasons, we ignore cases where a path
goes through the callable that introduces <code>v</code>; such a path does not
represent an actual update, as a new copy of <code>v</code> is updated.</p>
</div></div></div><div><h2 class="subsection-heading" id="Import path">Import path</h2><div class="doc-block"><code>import csharp</code></div></div><div><h2 class="subsection-heading" id="Predicates">Predicates</h2><div class="doc-block"><table><tbody><tr><td><a href="predicate.SSA$Ssa$CapturedVariableImpl$updatesCapturedVariable.4.html" class="ref-link ref-predicate" title="Predicate Ssa::CapturedVariableImpl::updatesCapturedVariable">updatesCapturedVariable</a></td><td><span class="qldoc-summary"><p>Holds if <code>call</code> may change the value of captured variable <code>v</code>. The actual  update occurs in <code>def</code>.</p>
</span></td></tr></tbody></table></div></div></div></div></div><footer id="content-footer">Copyright 2020 GitHub Software UK Ltd.<a title="Privacy statement and tracking preferences" target="_blank" href="https://docs.github.com/github/site-policy/github-privacy-statement">Privacy Statement</a></footer></body></html>