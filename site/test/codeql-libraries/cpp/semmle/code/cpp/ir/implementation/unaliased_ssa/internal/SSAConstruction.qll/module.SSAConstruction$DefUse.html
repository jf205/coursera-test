<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="qldoc"><meta name="description" content="API documentation for CodeQL"><meta name="keywords" content="CodeQL,QL,DefUse"><meta name="addsearch-category" content="C/C++ CodeQL library"><title>DefUse</title><link rel="stylesheet" type="text/css" href="https://unpkg.com/@primer/css/dist/primer.css"><link rel="stylesheet" type="text/css" href="../../../../../../../../qldoc.css"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-5Q9DBRM');</script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5Q9DBRM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="Header text-white"><div class="Header-item"><svg class="octicon octicon-mark-github mr-2" height="32" viewbox="0 0 16 16" width="32"><path fill-rule="even-odd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></div><div class="Header-item--full f2 text-bold">CodeQL library for C/C++</div><div class="Header-item"><span>Version 1.26.0</span></div><div class="Header-item .text-gray-light"><div class="nav-section"><a href="../../../../../../../../index.html">Index</a></div></div><div class="Header-item"><a title="Search the CodeQL libraries" target="_blank" href="https://help.semmle.com/home/help/search-results-qldoc.html"><span class=".text-gray-light">Search</span></a></div></div><div id="main"><nav id="sidebar"><div id="sidebar-content" class="pt-2"><div class="nav-section"><p>For other CodeQL resources, including tutorials and examples, see <a href="https://help.semmle.com/QL/learn-ql/" class="learn-ql-link" target="_blank">Learning CodeQL</a><p>.</p></p><h2 class="section-heading"><a href="module.SSAConstruction$DefUse.html" class="ref-link ref-module">DefUse</a></h2><div class="doc-block"><ol class="section-links"><li></li><li></li><li><a href="module.SSAConstruction$DefUse.html#Import%20path">Import path</a></li><li><a href="module.SSAConstruction$DefUse.html#Predicates">Predicates</a></li></ol></div></div><div class="nav-section"><div><div><h2 class="section-heading"><span>Module <a href="module.SSAConstruction.html" class="ref-link ref-module" title="Module SSAConstruction">SSAConstruction</a></span></h2></div><div><h3 class="subsection-heading">Imports</h3><div class="doc-block"><table><tbody><tr><td><a href="module.SSAConstruction$Cached.html" class="ref-link ref-module" title="Module SSAConstruction::Cached">Cached</a></td></tr><tr><td><a href="module.SSAConstruction$CachedForDebugging.html" class="ref-link ref-module" title="Module SSAConstruction::CachedForDebugging">CachedForDebugging</a></td></tr><tr><td><a href="../SSAConstructionInternal.qll/module.SSAConstructionInternal.html" class="ref-link ref-module" title="Module SSAConstructionInternal">SSAConstructionInternal</a></td></tr></tbody></table></div></div><div><h3 class="subsection-heading">Modules</h3><div class="doc-block"><table><tbody><tr><td><a href="module.SSAConstruction$DebugSSA.html" class="ref-link ref-module" title="Module SSAConstruction::DebugSSA">DebugSSA</a></td></tr><tr><td><a href="module.SSAConstruction$DefUse.html" class="ref-link ref-module" title="Module SSAConstruction::DefUse">DefUse</a></td></tr><tr><td><a href="module.SSAConstruction$SSA.html" class="ref-link ref-module" title="Module SSAConstruction::SSA">SSA</a></td></tr><tr><td><a href="module.SSAConstruction$SSAConsistency.html" class="ref-link ref-module" title="Module SSAConstruction::SSAConsistency">SSAConsistency</a></td></tr></tbody></table></div></div></div></div></div></nav><div class="overflow-y-auto width-full pt-2"><div id="content"><div><h1 class="section-heading" id="SSAConstruction::DefUse"><span><span>Module <span><a href="module.SSAConstruction$DefUse.html" class="ref-link ref-module" title="Module SSAConstruction::DefUse">DefUse</a></span></span></span></h1></div><div><div class="doc-block"><div class="qldoc"><p>Module containing the predicates that connect uses to their reaching definition. The reaching definitions are
computed separately for each unique use <code>MemoryLocation</code>. An instruction is treated as a definition of a use location
if the defined location overlaps the use location in any way. Thus, a single instruction may serve as a definition
for multiple use locations, since a single definition location may overlap many use locations.</p>
<p>Definitions and uses are identified by a block and an integer &ldquo;offset&rdquo;. An offset of -1 indicates the definition
from a <code>Phi</code> instruction at the beginning of the block. An offset of 2<em>i indicates a definition or use on the
instruction at index <code>i</code> in the block. An offset of 2</em>i+1 indicates a definition or use on the <code>Chi</code> instruction that
will be inserted immediately after the instruction at index <code>i</code> in the block.</p>
<p>For a given use location, each definition and use is also assigned a &ldquo;rank&rdquo; within its block. The rank is simply the
one-based index of that definition or use within the list of definitions and uses of that location within the block,
ordered by offset. The rank allows the various reachability predicates to be computed more efficiently than they
would if based solely on offset, since the set of possible ranks is dense while the set of possible offsets is
potentially very sparse.</p>
</div></div></div><div><h2 class="subsection-heading" id="Import path">Import path</h2><div class="doc-block"><code>import semmle.code.cpp.ir.implementation.unaliased_ssa.internal.SSAConstruction</code></div></div><div><h2 class="subsection-heading" id="Predicates">Predicates</h2><div class="doc-block"><table><tbody><tr><td><a href="predicate.SSAConstruction$DefUse$definitionReachesEndOfBlock.4.html" class="ref-link ref-predicate" title="Predicate SSAConstruction::DefUse::definitionReachesEndOfBlock">definitionReachesEndOfBlock</a></td><td><span class="qldoc-summary"><p>Holds if the definition that overlaps <code>useLocation</code> at <code>(defBlock, defRank)</code> reaches the end of  block <code>block</code> without any intervening definitions that overlap <code>useLocation</code>.</p>
</span></td></tr><tr><td><a href="predicate.SSAConstruction$DefUse$definitionReachesUse.5.html" class="ref-link ref-predicate" title="Predicate SSAConstruction::DefUse::definitionReachesUse">definitionReachesUse</a></td><td><span class="qldoc-summary"><p>Holds if a definition that overlaps <code>useLocation</code> at (<code>defBlock</code>, <code>defRank</code>) reaches the use of <code>useLocation</code> at  (<code>useBlock</code>, <code>useRank</code>) without any intervening definitions that overlap <code>useLocation</code>.</p>
</span></td></tr><tr><td><a href="predicate.SSAConstruction$DefUse$getDefinitionOrChiInstruction.4.html" class="ref-link ref-predicate" title="Predicate SSAConstruction::DefUse::getDefinitionOrChiInstruction">getDefinitionOrChiInstruction</a></td><td><span class="qldoc-summary"><p>Gets the <code>Instruction</code> for the definition at offset <code>defOffset</code> in block <code>defBlock</code>.</p>
</span></td></tr><tr><td><a href="predicate.SSAConstruction$DefUse$hasDefinitionAtRank.5.html" class="ref-link ref-predicate" title="Predicate SSAConstruction::DefUse::hasDefinitionAtRank">hasDefinitionAtRank</a></td><td><span class="qldoc-summary"><p>Holds if there is a definition at offset <code>offset</code> in block <code>block</code> that overlaps memory location <code>useLocation</code>.  <code>rankIndex</code> is the rank of the definition as computed by <code>defUseRank()</code>.</p>
</span></td></tr><tr><td><a href="predicate.SSAConstruction$DefUse$hasPhiOperandDefinition.6.html" class="ref-link ref-predicate" title="Predicate SSAConstruction::DefUse::hasPhiOperandDefinition">hasPhiOperandDefinition</a></td><td><span class="qldoc-summary"><p>Holds if the <code>Phi</code> instruction for location <code>useLocation</code> at the beginning of block <code>phiBlock</code> has an operand along  the incoming edge from <code>predBlock</code>, where that operand&rsquo;s definition is at offset <code>defOffset</code> in block <code>defBlock</code>.</p>
</span></td></tr><tr><td><a href="predicate.SSAConstruction$DefUse$hasUseAtRank.4.html" class="ref-link ref-predicate" title="Predicate SSAConstruction::DefUse::hasUseAtRank">hasUseAtRank</a></td><td><span class="qldoc-summary"><p>Holds if there is a use of memory location <code>useLocation</code> on instruction <code>use</code> in block <code>block</code>. <code>rankIndex</code> is the  rank of the use use as computed by <code>defUseRank</code>.</p>
</span></td></tr><tr><td><a href="predicate.SSAConstruction$DefUse$locationLiveOnEntryToBlock.2.html" class="ref-link ref-predicate" title="Predicate SSAConstruction::DefUse::locationLiveOnEntryToBlock">locationLiveOnEntryToBlock</a></td><td><span class="qldoc-summary"><p>Holds if the specified <code>useLocation</code> is live on entry to <code>block</code>. This holds if there is a use of <code>useLocation</code>  that is reachable from the start of <code>block</code> without passing through a definition that overlaps <code>useLocation</code>.  Note that even a partially-overlapping definition blocks liveness, because such a definition will insert a <code>Chi</code>  instruction whose result totally overlaps the location.</p>
</span></td></tr><tr><td><a href="predicate.SSAConstruction$DefUse$locationLiveOnExitFromBlock.2.html" class="ref-link ref-predicate" title="Predicate SSAConstruction::DefUse::locationLiveOnExitFromBlock">locationLiveOnExitFromBlock</a></td><td><span class="qldoc-summary"><p>Holds if the specified <code>useLocation</code> is live on exit from <code>block</code>.</p>
</span></td></tr></tbody></table></div></div></div></div></div><footer id="content-footer">Copyright 2020 GitHub Software UK Ltd.<a title="Privacy statement and tracking preferences" target="_blank" href="https://docs.github.com/github/site-policy/github-privacy-statement">Privacy Statement</a></footer></body></html>